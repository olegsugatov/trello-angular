<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
	<meta charset="UTF-8">
	<title>Trello Task Manager Analog</title>
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/foundation.min.css">
	<link rel="stylesheet" href="css/trello.css">
</head>
<body ng-cloak>
  <header>
    <div class="grid-container">
    	<div class="large-6 columns">
      		<h1 class="app-name left">Trello</h1>
      	</div>
    </div>
  </header>

  <section id="lists-container"
           class="lists-container"
           ng-controller="listsCtrl as listsCtrl">

    <div class="grid-container">
      <section class="list list-inline"
               ng-repeat="list in listsCtrl.lists"
               ng-controller="listCtrl as listCtrl">
        <h1>{{list.listName}}</h1>
		
		<div class="card" 
			ng-controller="cardCtrl as cardCtrl"
			ng-repeat="card in listCtrl.getCards(list)">
			
			<div ng-if="!cardCtrl.isEditing">
				{{card.description}}
				<!-- edit -->
				<div ng-click="cardCtrl.editCard(card)"
					class="edit-small edit-card hand">		
				</div>
				<!-- delete -->
				<div ng-click='cardCtrl.deleteCard(card)'
					 class='remove-small remove-card hand'>
				</div>
			</div>
			
			<!-- edit -->
			<div ng-if="cardCtrl.isEditing">
				<form ng-submit="cardCtrl.updateCard(card)">
					<input type="text" ng-model="cardCtrl.editingCard.description">
				</form>
			</div>
		</div>

       	<a ng-click="listCtrl.removeList(list)" class="hand">
	  		<div class="remove remove-list"></div>
	  	</a>

	  	<section class="new-card">
	  		<form ng-submit="listCtrl.createCard(list)">
          		<input type="text"
                 		ng-model="listCtrl.cardDescription"
	  				   class="card-input"
	  				   placeholder="New card"/>
	  		</form>
	  	</section>
      </section>
      
      <!-- add section -->
      <section class="list new-list list-inline">
      	<form ng-submit="listsCtrl.addList()">
			<input type="text" ng-model="listsCtrl.listName" />   		
      	</form>
      </section>
    </div>
  </section>

	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.9/angular.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js"></script>
	
	<script src="js/app.js"></script>
	<script src="js/factories/listFactory.js"></script>
	<script src="js/factories/cardFactory.js"></script>
	<script src="js/conlrollers/listsCtrl.js"></script>
	<script src="js/conlrollers/listCtrl.js"></script>
	<script src="js/conlrollers/cardCtrl.js"></script>
</body>
</html>